---
title: Configurer les variables d’environnement pour l’extensibilité d’Asset Compute
description: Les variables d’environnement sont conservées dans le fichier .env pour le développement local et sont utilisées pour fournir des informations d’identification d’Adobe I/O et de l’espace de stockage dans le cloud requises pour le développement local.
feature: Asset Compute Microservices
version: Experience Manager as a Cloud Service
doc-type: Tutorial
jira: KT-6270
thumbnail: KT-6270.jpg
topic: Integrations, Development
role: Developer
level: Intermediate, Experienced
exl-id: c63c5c75-1deb-4c16-ba33-e2c338ef6251
duration: 121
source-git-commit: 5edd2a6593936c80803482b382020efa8ce7a215
workflow-type: tm+mt
source-wordcount: '445'
ht-degree: 100%

---

# Configurer les variables d’environnement

![Fichier .env.](assets/environment-variables/dot-env-file.png)

Avant de développer des objets de travail Asset Compute, assurez-vous que le projet est configuré avec les informations d’Adobe I/O et de stockage dans le cloud. Ces informations sont stockées dans le fichier `.env` du projet qui est utilisé uniquement pour le développement local, et n’est pas enregistré dans Git. Le fichier `.env` fournit un moyen pratique d’exposer les paires clé/valeur à l’environnement de développement local d’Asset Compute. Lorsque le [déploiement](../deploy/runtime.md) des ressources de travail d’Asset Compute dans Adobe I/O Runtime, le fichier `.env` n’est pas utilisé, mais un sous-ensemble de valeurs est transmis par le biais de variables d’environnement. D’autres paramètres et secrets personnalisés peuvent être stockés dans le fichier `.env`, par exemple les informations d’identification de développement pour les services web tiers.

<!--
## Reference the `private.key`

![private key](assets/environment-variables/private-key.png)

Open the `.env` file, uncomment the `ASSET_COMPUTE_PRIVATE_KEY_FILE_PATH` key, and provide the absolute path on your filesystem to the `private.key` that pairs with the public certificate added to your Adobe I/O App Builder project.

+ If your key pair was generated by Adobe I/O, it was auto-downloaded as part of the  `config.zip`.
+ If you provided the public key to Adobe I/O, then you should also be in possession of the matching private key.
+ If you do not have these key pairs, you can generate new key pairs or upload new public keys at the bottom of:
[https://console.adobe.com](https://console.adobe.io) > Your Asset Compute App Builder project > Workspaces @ Development > Service Account (JWT).

Remember the `private.key` file should not be checked into Git as it contains secrets, rather it should be stored in a safe place outside the project.

For example, on macOS this might look like:

```
...
ASSET_COMPUTE_PRIVATE_KEY_FILE_PATH=/Users/example-user/credentials/aem-guides-wknd-asset-compute/private.key
...
```
-->

## Configurer les informations d’identification de l’espace de stockage dans le cloud

Le développement local d’Assets Compute nécessite l’accès à un [espace de stockage dans le cloud](../set-up/accounts-and-services.md#cloud-storage). Les informations d’identification de l’espace de stockage dans le cloud utilisées pour le développement local sont fournies dans le fichier `.env`.

Ce tutoriel privilégie l’utilisation du stockage Azure Blob, mais Amazon S3 et ses clés correspondantes dans le fichier `.env` peuvent être utilisés à la place.

### Utiliser le stockage Azure Blob

Supprimez les commentaires, renseignez les clés suivantes dans le fichier `.env` et renseignez-les avec les valeurs de l’espace de stockage dans le cloud configuré sur Azure Portal.

![Stockage Azure Blob.](./assets/environment-variables/azure-portal-credentials.png)

1. Valeur de la clé `AZURE_STORAGE_CONTAINER_NAME`
1. Valeur de la clé `AZURE_STORAGE_ACCOUNT`
1. Valeur de la clé `AZURE_STORAGE_KEY`

Par exemple, cela peut se présenter comme suit (valeurs à titre d’exemple uniquement) :

```
...
AZURE_STORAGE_ACCOUNT=aemguideswkndassetcomput
AZURE_STORAGE_KEY=Va9CnisgdbdsNJEJBqXDyNbYppbGbZ2V...OUNY/eExll0vwoLsPt/OvbM+B7pkUdpEe7zJhg==
AZURE_STORAGE_CONTAINER_NAME=asset-compute
...
```

Le fichier `.env` se présente comme suit :

![Informations d’identification du stockage Azure Blob.](assets/environment-variables/cloud-storage-credentials.png)

Si vous n’utilisez PAS le stockage Microsoft Azure Blob, supprimez ou laissez les commentaires (en ajoutant le préfixe `#`).

### Utiliser l’espace de stockage dans le cloud Amazon S3{#amazon-s3}

Si vous utilisez l’espace de stockage dans le cloud Amazon S3, supprimez les commentaires et renseignez les clés suivantes dans le fichier `.env`.

Par exemple, cela peut se présenter comme suit (valeurs à titre d’exemple uniquement) :

```
...
S3_BUCKET=aemguideswkndassetcompute
AWS_ACCESS_KEY_ID=KKIXZLZYNLXJLV24PLO6
AWS_SECRET_ACCESS_KEY=Ba898CnisgabdsNJEJBqCYyVrYttbGbZ2...OiNYExll0vwoLsPtOv
AWS_REGION=us-east-1
...
```

## Valider la configuration du projet

Une fois le projet d’Asset Compute généré et configuré, validez la configuration avant d’apporter des modifications au code pour vous assurer que les services de prise en charge sont configurés, dans les fichiers `.env`.

Pour lancer l’outil de développement d’Asset Compute pour le projet d’Asset Compute :

1. Ouvrez une ligne de commande dans la racine du projet d’Asset Compute (dans VS Code, elle peut être ouverte directement dans l’IDE via Terminal > Nouveau terminal) et exécutez la commande :

   ```
   $ aio app run
   ```

1. L’outil de développement d’Asset Compute local s’ouvre dans votre navigateur web par défaut à l’adresse __http://localhost :9000__.

   ![Exécution de l’application AIO.](assets/environment-variables/aio-app-run.png)

1. Recherchez les messages d’erreur dans la sortie de ligne de commande et dans le navigateur web à mesure que l’outil de développement s’initialise.
1. Pour arrêter l’outil de développement d’Asset Compute, appuyez sur `Ctrl-C` dans la fenêtre qui a exécuté `aio app run` pour terminer le processus.

## Résolution des problèmes

+ [L’outil de développement ne peut pas démarrer en raison d’une clé privée manquante](../troubleshooting.md#missing-private-key)
